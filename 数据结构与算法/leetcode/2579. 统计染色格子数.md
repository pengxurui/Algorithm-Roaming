## [2579. 统计染色格子数](https://leetcode.cn/problems/count-total-number-of-colored-cells/)

## 题目描述

有一个无穷大的二维网格图，一开始所有格子都未染色。给你一个正整数 n ，表示你需要执行以下步骤 n 分钟：

第一分钟，将 任一 格子染成蓝色。
之后的每一分钟，将与蓝色格子相邻的 所有 未染

### 题解（找规律）

找规律题。这道题可以用重力加速度类比，重力加速度的 G 是 9.8m/s，而这里的 G 是 4格/s。

![](https://files.mdnice.com/user/3257/0ca32252-0b29-465b-810c-3ee366bf6045.png)

- 最开始只有一格，我们先放到一边单独计算，有 $f(1) = 1$；
- 从 (n = 1) 递推到 (n = 2) 时的速度为 4，因此 $f(2) = 4 + 1 = 5$；
- 从 (n = 2) 递推到 (n = 3) 时的速度为 8，因此 $f(3) = 8 + f(2) = 13$；
- 以此类推，从 (n - 1) 递推到 (n) 时的速度是 $4 *(n - 1)$，即 $f(n) = f(n - 1) + 4(n - 1)$。

显然有：

$f(n)=\begin{cases}
1, &n=1\\
f(n-1) + 4(n-1) & n>1
\end{cases}$

可以看到， $n > 1$ 的分支是一个从 0 开始的等差数列，等差数列求和公式知道吧，整理得：$f(n) = 1 + 4 * n * (n - 1) / 2 = 2n^2 - 2n + 1$

```kotlin
class Solution {
    fun coloredCells(n: Int): Long {
        return 2 * n * n - 2 * n + 1
    }
}
```

**复杂度分析：**

- 时间复杂度：$O(1)$
- 空间复杂度：$O(1)$

