## [974. 和可被 K 整除的子数组](https://leetcode.cn/problems/subarray-sums-divisible-by-k/)

## 题目描述

给定一个整数数组 nums 和一个整数 k ，返回其中元素之和可被 k 整除的（连续、非空） 子数组 的数目。

子数组 是数组的 连续 部分。

## 题目考点

前缀和

## 题解
 
```
class Solution {
    fun subarraysDivByK(A: IntArray, K: Int): Int {
        var result = 0
        var preSum = 0

        // 同余定理：(preSum - beforeSum) % k = 0，那么有 preSum % k = beforeSum % k
        // 维护一个哈希表<前缀和%K,出现次数>
        val map = HashMap<Int, Int>()
        // 在索引 0 之前，存在一个前缀和为 0 的空数组
        map[0] = 1
        for (index in A.indices) {
            preSum += A[index]
            // -3%2 = -1，3%2 = 1，当被除数为负数时取模结果为负数，需要纠正
            val modulus = (preSum % K + K) % K
            println("abs = ${Math.abs(preSum % K)}, % = ${(preSum % K + K) % K}")
            if (map.contains(modulus)) {
                result += map[modulus]!!
            }
            map[modulus] = map.getOrDefault(modulus, 0) + 1
        }
        return result
    }
}
```

**复杂度分析：**

- 时间复杂度：O(n)
- 空间复杂度：O(n) 
