## [2034. 股票价格波动](https://leetcode.cn/problems/stock-price-fluctuation/description/)

## 问题分析

**初步分析：**

- **问题目标：** 设计数据结构，实现目标操作；
- **更新操作：** 添加或修改时间戳对应的价格；
- **查询最新价格：** 查询最晚时间戳对应的价格；
- **查询最高价格：** 查询最高价格（相同时间戳只考虑最晚时间戳的价格）；
- **查询最低价格：** 查询最低价格（相同时间戳只考虑最晚时间戳的价格）。

**思考实现：**

- **散列表：** 容易想到使用散列表记录时间戳和价格的映射关系；
- **查询最新价格：** 使用一个变量记录最晚的时间戳，在查询时查询时间戳的价格，时间复杂度是 O(1)；
- **查询最高价格/最低价格：** 查询整个散列表得到最大值和最小值，或者提前到更新操作后更新最大值和最小值，时间复杂度是 $O(n)$

**思考优化：**

涉及到最值的问题，可以使用「堆」或者「有序集合」这两种基础数据结构解决：

- **堆：** 使用大顶堆和小顶堆分别记录最高价格和最低价格；
- **有序集合：** 使用有序集合维护所有价格的顺序，集合的最大值和最小值就是目标值。

## 题解一（暴力 · 散列表）

```
```

- 更新操作：$O(1)$
- 查询操作：$O(n)$

## 题解二（哈希表 + 堆）

使用大顶堆和小顶堆分别记录最高价格和最低价格，

```
```

**复杂度分析：**

- 更新操作：$O(1)$
- 查询操作：$O(lgn)$

## 题解三（哈希表 + 有序集合）

```
```

**复杂度分析：**

- 更新操作：$O(1)$
- 查询操作：$O(lgn)$
